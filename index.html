<div id="koko-global-wrapper" style="position: fixed; bottom: 20px; right: 20px; z-index: 10000; cursor: pointer;">
    <img id="koko-avatar" 
         src="https://drive.google.com/uc?export=view&id=17cAxvXGtDISfjQpeThBF3JdhgEulCABr" 
         alt="Ko Ko Assistant" 
         style="width: 150px; height: auto; transition: all 0.3s ease-in-out;"
         onclick="welcomeSpeech()">
    
    <style>
        @keyframes talking {
            0% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.05); filter: brightness(1.2); }
            100% { transform: scale(1); filter: brightness(1); }
        }
        .is-talking { animation: talking 0.5s infinite; }
    </style>

    <script>
        function welcomeSpeech() {
            const img = document.getElementById('koko-avatar');
            const synth = window.speechSynthesis;
            if (synth.speaking) return;

            const text = "اسلام آباد آن لائن سروسز میں خوش آمدید! میں کوکو ہوں، آپ کی اسمارٹ اسسٹنٹ۔";
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ur-PK';
            utterance.rate = 0.8;

            utterance.onstart = () => { img.classList.add('is-talking'); };
            utterance.onend = () => { img.classList.remove('is-talking'); };

            synth.speak(utterance);
        }
    </script>
</div>
