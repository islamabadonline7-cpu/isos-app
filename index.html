<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ISOS Super AI - Master v3.0</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Segoe UI', Tahoma, sans-serif; background: #001f3f; }
        
        /* Ø§Ø³Ù¾Ù„Ø´ Ø§Ø³Ú©Ø±ÛŒÙ† */
        #splash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #001f3f; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 20000; transition: 0.8s; cursor: pointer; }
        .logo { width: 140px; height: auto; border-radius: 20px; box-shadow: 0 0 30px rgba(255,215,0,0.4); animation: breathe 2s infinite; }
        
        /* Ù¹Ø§Ù¾ Ù¾ÛŒ Ø³ÛŒ Ù¾ÛŒÙ†Ù„ */
        #pc-panel { position: fixed; top: 0; width: 100%; background: #FFD700; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; box-sizing: border-box; z-index: 15000; height: 50px; }
        .btn { background: #ff4444; color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .ai-label { color: #001f3f; font-weight: bold; font-size: 14px; }

        /* Ø§ÛŒÙ¾ Ù…ÛŒÙ†ÛŒÙˆ Ø§ÛŒØ±ÛŒØ§ */
        .app-view { width: 100%; height: calc(100vh - 50px); margin-top: 50px; }
        iframe { width: 100%; height: 100%; border: none; }

        @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 0.9; } 50% { transform: scale(1.05); opacity: 1; } }
    </style>
</head>
<body onclick="activateSystem()">

    <div id="splash">
        <img src="logo.png" alt="ISOS" class="logo">
        <h2 style="color: #FFD700; margin-top: 15px;">ISLAMABAD ONLINE SERVICES</h2>
        <p style="color: white;">Ø³Ù¾Ø± AI Ø´Ø±ÙˆØ¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ù¹Ú† Ú©Ø±ÛŒÚº</p>
    </div>

    <div id="pc-panel">
        <span class="ai-label" id="ai-status">Ø³Ø³Ù¹Ù… ØªÛŒØ§Ø± ÛÛ’...</span>
        <div>
            <button class="btn" style="background: #28a745;" onclick="location.reload()">Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹ ğŸ”„</button>
            <button class="btn" onclick="terminateAI()">AI Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº ğŸ›‘</button>
        </div>
    </div>

    <div class="app-view">
        <iframe id="main-frame" src="https://isos.onlinehubs.world/" allow="microphone; camera; autoplay"></iframe>
    </div>

    <script>
        const status = document.getElementById('ai-status');
        const frame = document.getElementById('main-frame');
        let recognition;
        let isRunning = false;
        let isSpeaking = false;

        const brain = [
            { keys: ["Ø³Ø±ÙˆØ³", "Ú©Ø§Ù…", "Ú©ÛŒØ§ Ú©Ø±ØªÛ’"], msg: "Ø´ÛØ²Ø§Ø¯ ØµØ§Ø­Ø¨ØŒ ÛÙ… ÙˆÛŒØ²Û Ù¾ÙˆØ±Ù¹Ù„ØŒ Ø¯Ø³ØªØ§ÙˆÛŒØ²Ø§Øª Ú©ÛŒ ØªØµØ¯ÛŒÙ‚ØŒ Ø§ÙˆØ± Ù¾Ø±ÙˆÙ¹ÛŒÚ©Ù¹Ø± Ú©ÛŒ Ø®Ø¯Ù…Ø§Øª ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”", url: "https://isos.onlinehubs.world/" },
            { keys: ["ÙˆÛŒØ²Û", "ÙˆÛŒØ²Ø§"], msg: "Ø¬ÛŒØŒ Ù…ÛŒÚº Ø¢Ù¾ Ú©Û’ Ù„ÛŒÛ’ Ú¯Ù„ÙˆØ¨Ù„ ÙˆÛŒØ²Û Ù¾ÙˆØ±Ù¹Ù„ Ú©Ú¾ÙˆÙ„ Ø±ÛÛŒ ÛÙˆÚºÛ”", url: "https://isos.onlinehubs.world/p/global-visa-portal.html" },
            { keys: ["Ø§Ø³Ù¹ÛŒÙ¹Ø³", "Ú†ÛŒÚ©"], msg: "Ø¢Ù¾ ÛŒÛØ§Úº Ø§Ù¾Ù†Ø§ Ù¾Ø§Ø³Ù¾ÙˆØ±Ù¹ ÛŒØ§ ÙØ§Ø¦Ù„ Ø§Ø³Ù¹ÛŒÙ¹Ø³ Ù¹Ø±ÛŒÚ© Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”", url: "https://isos.onlinehubs.world/p/status.html" }
        ];

        function talk(text) {
            window.speechSynthesis.cancel();
            const speech = new SpeechSynthesisUtterance(text);
            speech.lang = 'ur-PK';
            speech.onstart = () => { isSpeaking = true; status.innerText = "AI Ø¨ÙˆÙ„ Ø±ÛØ§ ÛÛ’..."; };
            speech.onend = () => { isSpeaking = false; status.innerText = "Ù…ÛŒÚº Ø³Ù† Ø±ÛÛŒ ÛÙˆÚº..."; };
            window.speechSynthesis.speak(speech);
        }

        function activateSystem() {
            if (isRunning) return;
            isRunning = true;
            document.getElementById('splash').style.display = 'none';
            talk("Ø§Ø³Ù„Ø§Ù… Ø¢Ø¨Ø§Ø¯ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø³Ø±ÙˆØ³Ø² Ù…ÛŒÚº Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯Û” Ù…ÛŒÚº Ø¢Ù¾ Ú©ÛŒ Ø³Ù¾Ø± Ø§Û’ Ø¢Ø¦ÛŒ ÛÙˆÚºÛ” Ù…ÛŒÚº Ø¢Ù¾ Ú©ÛŒ Ú©ÛŒØ§ Ù…Ø¯Ø¯ Ú©Ø± Ø³Ú©ØªÛŒ ÛÙˆÚºØŸ");
            startListening();
        }

        function startListening() {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'ur-PK';
            recognition.continuous = true;
            recognition.interimResults = false;

            recognition.onresult = (event) => {
                const query = event.results[event.results.length - 1][0].transcript.toLowerCase();
                processQuery(query);
            };

            recognition.onerror = () => { if(isRunning) recognition.start(); };
            recognition.onend = () => { if(isRunning && !isSpeaking) recognition.start(); };
            recognition.start();
        }

        function processQuery(cmd) {
            let matched = false;
            brain.forEach(item => {
                if (item.keys.some(k => cmd.includes(k))) {
                    talk(item.msg);
                    frame.src = item.url;
                    matched = true;
                }
            });
            if (!matched) talk("Ù…Ø¹Ø°Ø±ØªØŒ Ú©ÛŒØ§ Ø¢Ù¾ ÙˆÛŒØ²ÛØŒ Ø§Ø³Ù¹ÛŒÙ¹Ø³ ÛŒØ§ ÛÙ…Ø§Ø±ÛŒ Ø³Ø±ÙˆØ³Ø² Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº Ø¬Ø§Ù†Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ");
        }

        function terminateAI() {
            isRunning = false;
            window.speechSynthesis.cancel();
            if (recognition) recognition.stop();
            status.innerText = "AI Ø¨Ù†Ø¯ Ú©Ø± Ø¯ÛŒØ§ Ú¯ÛŒØ§";
            alert("Ø³Ù¾Ø± AI Ø§Ø³Ø³Ù¹Ù†Ù¹ Ø§Ø¨ Ø®Ø§Ù…ÙˆØ´ ÛÛ’Û”");
        }

        // PWA Ø³Ø±ÙˆØ³ ÙˆØ±Ú©Ø± Ø±Ø¬Ø³Ù¹Ø±ÛŒØ´Ù†
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
