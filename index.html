<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ISOS Super AI - Master v5.0</title>
    <link rel="manifest" href="manifest.json">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Segoe UI', Tahoma, sans-serif; background: #001f3f; }
        #splash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #001f3f; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 20000; transition: 0.8s; cursor: pointer; }
        .logo { width: 140px; height: auto; border-radius: 20px; box-shadow: 0 0 30px rgba(255,215,0,0.4); animation: breathe 2s infinite; }
        #pc-panel { position: fixed; top: 0; width: 100%; background: #FFD700; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; box-sizing: border-box; z-index: 15000; height: 55px; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .btn { background: #ff4444; color: white; border: none; padding: 6px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .ai-label { color: #001f3f; font-weight: bold; font-size: 14px; border-right: 3px solid #001f3f; padding-right: 10px; }
        .app-view { width: 100%; height: calc(100vh - 55px); margin-top: 55px; }
        iframe { width: 100%; height: 100%; border: none; }
        @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 0.9; } 50% { transform: scale(1.05); opacity: 1; } }
    </style>
</head>
<body onclick="activateSystem()">

    <div id="splash">
        <img src="logo.png" alt="ISOS" class="logo">
        <h2 style="color: #FFD700; margin-top: 15px;">ISLAMABAD ONLINE SERVICES</h2>
        <p style="color: white;">Ø³Ù¾Ø± AI ÙØ¹Ø§Ù„ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú©Ù„Ú© Ú©Ø±ÛŒÚº</p>
    </div>

    <div id="pc-panel">
        <span class="ai-label" id="ai-status">Ø³Ø³Ù¹Ù… ØªÛŒØ§Ø± ÛÛ’...</span>
        <div>
            <button class="btn" style="background: #28a745; margin-left: 10px;" onclick="location.reload()">Ø±ÛŒÙØ±ÛŒØ´ ğŸ”„</button>
            <button class="btn" onclick="terminateAI()">Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº ğŸ›‘</button>
        </div>
    </div>

    <div class="app-view">
        <iframe id="main-frame" src="https://isos.onlinehubs.world/" allow="microphone; camera; autoplay; clipboard-write"></iframe>
    </div>

    <script>
        const status = document.getElementById('ai-status');
        const frame = document.getElementById('main-frame');
        let recognition;
        let isRunning = false;
        let isSpeaking = false;

        // Ù…ÛŒÙ†ÛŒÙˆ Ø¨Ø§Ø± Ø§ÙˆØ± Ø³Ø¨ Ù¾ÛŒØ¬Ø² Ú©Ø§ Ù…Ú©Ù…Ù„ Ù†Ø§Ù„Ø¬ Ø¨ÛŒØ³
        const isosKnowledge = [
            { 
                keys: ["Ø³Ø±ÙˆØ³", "Ú©Ø§Ù…", "Ø³ÛÙˆÙ„ÛŒØ§Øª", "Ú©ÛŒØ§ Ú©ÛŒØ§"], 
                msg: "Ø´ÛØ²Ø§Ø¯ ØµØ§Ø­Ø¨ØŒ Ø§Ø³Ù„Ø§Ù… Ø¢Ø¨Ø§Ø¯ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø³Ø±ÙˆØ³Ø² Ù…ÛŒÚº ÛÙ… Ú¯Ù„ÙˆØ¨Ù„ ÙˆÛŒØ²ÛØŒ Ø§Ù¾Ø§Ø¦Ù†Ù¹Ù…Ù†Ù¹ØŒ Ù…ÙˆÙÛ Ø§Ù¹ÛŒØ³Ù¹ÛŒØ´Ù†ØŒ Ø§ÛŒØ¬ÙˆÚ©ÛŒØ´Ù† ÚˆÚ¯Ø±ÛŒ Ú©ÛŒ ØªØµØ¯ÛŒÙ‚ØŒ Ø§ÙˆØ± ÙÛŒÙ…Ù„ÛŒ Ø±Ø¬Ø³Ù¹Ø±ÛŒØ´Ù† Ú©ÛŒ Ø³ÛÙˆÙ„ÛŒØ§Øª Ø¯ÛŒØªÛ’ ÛÛŒÚºÛ” Ø¢Ù¾ Ù…ÛŒÙ†ÛŒÙˆ Ø¨Ø§Ø± Ù…ÛŒÚº Ø§Ù† ØªÙ…Ø§Ù… Ú©Û’ Ø¨Ù¹Ù† Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”", 
                url: "https://isos.onlinehubs.world/" 
            },
            { 
                keys: ["ÙˆÛŒØ²Û", "ÙˆÛŒØ²Ø§", "Ù¾ÙˆØ±Ù¹Ù„"], 
                msg: "Ø¬ÛŒØŒ Ú¯Ù„ÙˆØ¨Ù„ ÙˆÛŒØ²Û Ù¾ÙˆØ±Ù¹Ù„ Ù…ÛŒÚº Ø³Ø¹ÙˆØ¯ÛŒØŒ Ù‚Ø·Ø±ØŒ Ø§ÙˆØ± Ø¯Ø¨Ø¦ÛŒ Ú©ÛŒ Ø³Ø±ÙˆØ³Ø² Ø´Ø§Ù…Ù„ ÛÛŒÚºÛ” Ù…ÛŒÚº Ù…ØªØ¹Ù„Ù‚Û Ù¾ÛŒØ¬ Ú©Ú¾ÙˆÙ„ Ø±ÛÛŒ ÛÙˆÚºÛ”", 
                url: "https://isos.onlinehubs.world/p/global-visa-portal.html" 
            },
            { 
                keys: ["Ø§Ù¾Ø§Ø¦Ù†Ù¹Ù…Ù†Ù¹", "Ù¹Ø§Ø¦Ù…", "Ø³Ù„Ø§Ù¹"], 
                msg: "ÙˆÛŒØ²Û Ø§Ù¾Ø§Ø¦Ù†Ù¹Ù…Ù†Ù¹ Ø¨Ú© Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ÛŒÛ Ø±ÛØ§ ÛÙ…Ø§Ø±Ø§ Ù…Ø®ØµÙˆØµ ØµÙØ­ÛÛ”", 
                url: "https://isos.onlinehubs.world/p/visa-appointment.html" 
            },
            { 
                keys: ["ØªØµØ¯ÛŒÙ‚", "Ø§Ù¹ÛŒØ³Ù¹ÛŒØ´Ù†", "Ù…ÙˆÙÛ", "ÚˆÚ¯Ø±ÛŒ"], 
                msg: "Ø§Ø³Ù†Ø§Ø¯ Ú©ÛŒ ØªØµØ¯ÛŒÙ‚ Ú©Û’ Ù„ÛŒÛ’ ÛÙ… Ù…ÙˆÙÛØŒ Ø§ÛŒÚ† Ø§ÛŒ Ø³ÛŒ Ø§ÙˆØ± Ø³ÙØ§Ø±Øª Ø®Ø§Ù†ÙˆÚº Ø³Û’ Ø³Ø±ÙˆØ³ ÙØ±Ø§ÛÙ… Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”", 
                url: "https://isos.onlinehubs.world/p/mofa-and-embassies-attestation.html" 
            },
            { 
                keys: ["Ø±Ø§Ø¨Ø·Û", "ÙˆØ§Ù¹Ø³ Ø§ÛŒÙ¾", "Ù†Ù…Ø¨Ø±", "Ø§ÛŒÚˆØ±ÛŒØ³"], 
                msg: "Ø¢Ù¾ Ù…ÛŒÙ†ÛŒÙˆ Ù…ÛŒÚº Ø±Ø§Ø¨Ø·Û Ú©Û’ Ø¨Ù¹Ù† Ø³Û’ ÛÙ…ÛŒÚº ÙˆØ§Ù¹Ø³ Ø§ÛŒÙ¾ Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚº ÛŒØ§ ÛÙ…Ø§Ø±Ø§ Ù¾ØªÛ Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”", 
                url: "https://isos.onlinehubs.world/p/contact-us.html" 
            },
            { 
                keys: ["Ø§Ø³Ù¹ÛŒÙ¹Ø³", "Ù¹Ø±ÛŒÚ©", "Ú†ÛŒÚ©"], 
                msg: "Ø¢Ù¾ Ø§Ù¾Ù†Ø§ Ø§Ø³Ù¹ÛŒÙ¹Ø³ ÛŒÛØ§Úº Ø³Û’ Ú†ÛŒÚ© Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”", 
                url: "https://isos.onlinehubs.world/p/status.html" 
            }
        ];

        function talk(text) {
            window.speechSynthesis.cancel();
            const speech = new SpeechSynthesisUtterance(text);
            speech.lang = 'ur-PK';
            speech.onstart = () => { isSpeaking = true; status.innerText = "AI Ø¬ÙˆØ§Ø¨ Ø¯Û’ Ø±ÛØ§ ÛÛ’..."; };
            speech.onend = () => { isSpeaking = false; status.innerText = "Ù…ÛŒÚº Ø³Ù† Ø±ÛÛŒ ÛÙˆÚºØŒ Ø¨ÙˆÙ„Ø¦Û’..."; };
            window.speechSynthesis.speak(speech);
        }

        function activateSystem() {
            if (isRunning) return;
            isRunning = true;
            document.getElementById('splash').style.display = 'none';
            talk("Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ù…ÛŒÚº Ø§Ø³Ù„Ø§Ù… Ø¢Ø¨Ø§Ø¯ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø³Ø±ÙˆØ³Ø² Ú©ÛŒ Ø§Ø³Ù…Ø§Ø±Ù¹ Ø§Ø³Ø³Ù¹Ù†Ù¹ ÛÙˆÚºÛ” Ù…ÛŒÚº Ø¢Ù¾ Ú©Û’ Ù…ÛŒÙ†ÛŒÙˆ Ø§ÙˆØ± ØªÙ…Ø§Ù… Ø³Ø±ÙˆØ³Ø² Ø³Û’ ÙˆØ§Ù‚Ù ÛÙˆÚºÛ” Ø¢Ù¾ Ú©ÛŒØ§ Ø¬Ø§Ù†Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ");
            startListening();
        }

        function startListening() {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'ur-PK';
            recognition.continuous = true;
            recognition.onresult = (event) => {
                const query = event.results[event.results.length - 1][0].transcript.toLowerCase();
                processIntelligence(query);
            };
            recognition.onerror = () => { if(isRunning) recognition.start(); };
            recognition.onend = () => { if(isRunning && !isSpeaking) recognition.start(); };
            recognition.start();
        }

        function processIntelligence(cmd) {
            let found = false;
            isosKnowledge.forEach(item => {
                if (item.keys.some(k => cmd.includes(k))) {
                    talk(item.msg);
                    frame.src = item.url;
                    found = true;
                }
            });
            if (!found) talk("Ù…ÛŒÚº Ø¢Ù¾ Ú©ÛŒ Ø¨Ø§Øª Ø³Ù…Ø¬Ú¾Ù†Û’ Ú©ÛŒ Ú©ÙˆØ´Ø´ Ú©Ø± Ø±ÛÛŒ ÛÙˆÚºÛ” Ú©ÛŒØ§ Ø¢Ù¾ ÙˆÛŒØ²ÛØŒ Ø§Ù¹ÛŒØ³Ù¹ÛŒØ´Ù† ÛŒØ§ Ù…ÛŒÙ†ÛŒÙˆ Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº Ù¾ÙˆÚ†Ú¾Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ");
        }

        function terminateAI() {
            isRunning = false;
            window.speechSynthesis.cancel();
            if (recognition) recognition.stop();
            status.innerText = "AI Ø¨Ù†Ø¯ ÛÛ’";
        }

        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
