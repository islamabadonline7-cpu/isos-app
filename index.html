<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ISOS Super AI Smart App</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Segoe UI', sans-serif; background: #001f3f; }
        
        /* Ø§Ø³Ù¾Ù„Ø´ Ø§Ø³Ú©Ø±ÛŒÙ† Ø§ÙˆØ± Ù„ÙˆÚ¯Ùˆ */
        #splash-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #001f3f; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10000; transition: 1s; }
        .logo-img { width: 150px; height: auto; border-radius: 20px; box-shadow: 0 0 30px rgba(255,215,0,0.3); animation: pulse 2s infinite; }
        .brand-name { color: #FFD700; margin-top: 25px; font-size: 22px; font-weight: bold; }

        /* Ù¾Ø§Ø² Ø¨Ù¹Ù† */
        #stop-panel { position: fixed; top: 15px; right: 15px; z-index: 10001; }
        .stop-btn { background: #ff4444; color: #fff; border: none; padding: 8px 12px; border-radius: 5px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }

        /* AI Ø¢Ù¾Ø´Ù†Ø² Ø¨Ø§Ú©Ø³ */
        #ai-options-box { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); width: 85%; background: rgba(0, 31, 63, 0.95); border: 2px solid #FFD700; border-radius: 15px; padding: 15px; display: none; z-index: 9999; text-align: center; }
        .option-btn { display: block; background: #FFD700; color: #001f3f; padding: 10px; margin: 8px 0; border-radius: 8px; text-decoration: none; font-weight: bold; transition: 0.3s; }

        .app-wrapper { width: 100%; height: 100vh; }
        #main-frame { width: 100%; height: 100%; border: none; }
        
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    </style>
</head>
<body onclick="activateSmartAI()">

    <div id="splash-screen">
        <img src="logo.png" alt="ISOS Logo" class="logo-img">
        <div class="brand-name">ISLAMABAD ONLINE SERVICES</div>
        <p style="color: #fff; margin-top: 15px; font-size: 14px;">Ø´Ø±ÙˆØ¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ú©ÛÛŒÚº Ø¨Ú¾ÛŒ Ú©Ù„Ú© Ú©Ø±ÛŒÚº...</p>
    </div>

    <div id="stop-panel">
        <button class="stop-btn" onclick="stopAI(event)">AI Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº ğŸ›‘</button>
    </div>

    <div id="ai-options-box">
        <p id="ai-speech-text" style="color: #fff; margin-bottom: 10px; font-weight: bold;"></p>
        <div id="options-list"></div>
    </div>

    <div class="app-wrapper">
        <iframe id="main-frame" src="https://isos.onlinehubs.world/" allow="microphone; camera; clipboard-write"></iframe>
    </div>

    <script>
        const frame = document.getElementById('main-frame');
        const splash = document.getElementById('splash-screen');
        const optionsBox = document.getElementById('ai-options-box');
        const speechText = document.getElementById('ai-speech-text');
        const optionsList = document.getElementById('options-list');
        let aiStarted = false;
        let recognition;

        const knowledgeBase = {
            "ÙˆÛŒØ²Û": {
                msg: "ÙˆÛŒØ²Û Ú©Û’ Ù„ÛŒÛ’ ÛŒÛ Ø¨ÛØªØ±ÛŒÙ† ØµÙØ­Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ ÛÛŒÚºØŒ Ø¢Ù¾ Ú©ÛØ§Úº Ø¬Ø§Ù†Ø§ Ú†Ø§ÛÛŒÚº Ú¯Û’ØŸ",
                links: [
                    { t: "Ú¯Ù„ÙˆØ¨Ù„ ÙˆÛŒØ²Û Ù¾ÙˆØ±Ù¹Ù„", l: "https://isos.onlinehubs.world/p/global-visa-portal.html" },
                    { t: "ÙˆÛŒØ²Û Ø§Ù¾Ø§Ø¦Ù†Ù¹Ù…Ù†Ù¹", l: "https://isos.onlinehubs.world/p/visa-appointment.html" }
                ]
            },
            "Ø§Ø³Ù¹ÛŒÙ¹Ø³": {
                msg: "Ø¬ÛŒØŒ Ù…ÛŒÚº Ø¢Ù¾ Ú©Ùˆ Ù¹Ø±ÛŒÚ©Ù†Ú¯ Ø§ÙˆØ± Ø§Ø³Ù¹ÛŒÙ¹Ø³ Ù¾ÛŒØ¬ Ù¾Ø± Ù„Û’ Ú†Ù„ØªÛŒ ÛÙˆÚºÛ”",
                links: [{ t: "Ø§Ø³Ù¹ÛŒÙ¹Ø³ Ú†ÛŒÚ© Ú©Ø±ÛŒÚº", l: "https://isos.onlinehubs.world/p/status.html" }]
            }
        };

        function speakUrdu(text) {
            window.speechSynthesis.cancel(); 
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ur-PK';
            window.speechSynthesis.speak(utterance);
        }

        function activateSmartAI() {
            if (aiStarted) return;
            aiStarted = true;
            splash.style.opacity = '0';
            setTimeout(() => { splash.style.display = 'none'; }, 1000);
            speakUrdu("Ø§Ø³Ù„Ø§Ù… Ø¢Ø¨Ø§Ø¯ Ø¢Ù† Ù„Ø§Ø¦Ù† Ø³Ø±ÙˆØ³Ø² Ù…ÛŒÚº Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯Û” Ù…ÛŒÚº Ø¢Ù¾ Ú©ÛŒ Ú©ÛŒØ§ Ù…Ø¯Ø¯ Ú©Ø± Ø³Ú©ØªÛŒ ÛÙˆÚºØŸ");
            setTimeout(listenUser, 5000);
        }

        function listenUser() {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'ur-PK';
            recognition.continuous = true;
            recognition.start();

            recognition.onresult = (event) => {
                const cmd = event.results[event.results.length - 1][0].transcript.toLowerCase();
                handleCommand(cmd);
            };
        }

        function handleCommand(cmd) {
            optionsList.innerHTML = "";
            for (let key in knowledgeBase) {
                if (cmd.includes(key)) {
                    const data = knowledgeBase[key];
                    speechText.innerText = data.msg;
                    speakUrdu(data.msg);
                    data.links.forEach(item => {
                        const a = document.createElement('a');
                        a.href = "#"; a.className = "option-btn"; a.innerText = item.t;
                        a.onclick = () => { frame.src = item.l; optionsBox.style.display = "none"; };
                        optionsList.appendChild(a);
                    });
                    optionsBox.style.display = "block";
                    return;
                }
            }
        }

        function stopAI(event) {
            event.stopPropagation();
            window.speechSynthesis.cancel();
            if (recognition) recognition.stop();
            optionsBox.style.display = "none";
            alert("AI Ø§Ø³Ø³Ù¹Ù†Ù¹ Ø±ÙˆÚ© Ø¯ÛŒØ§ Ú¯ÛŒØ§ ÛÛ’Û”");
        }
    </script>
</body>
</html>
